import streamlit as st

def evolucao_uti_interface():
    st.title("üìã Evolu√ß√£o Di√°ria - UTI")

    with st.form("form_uti"):
        st.subheader("Identifica√ß√£o do Paciente")
        col1, col2, col3 = st.columns(3)
        nome = col1.text_input("Nome")
        leito = col2.text_input("Leito")
        idade = col3.number_input("Idade", min_value=0, max_value=120, step=1)

        col4, col5, col6 = st.columns(3)
        sexo = col4.selectbox("Sexo", ["Masculino", "Feminino"])
        diag = col5.text_input("Diagn√≥stico Principal")
        data = col6.date_input("Data da interna√ß√£o")

        st.subheader("Avalia√ß√£o Sist√™mica")
        via_aerea = st.radio("Via a√©rea", ["Espont√¢nea", "O2 Suplementar", "VM", "Traqueostomizado"])
        oxigenacao = st.text_input("Oxigena√ß√£o (SatO2, FiO2, VM)")
        hemo = st.text_input("Hemodin√¢mica (PA, FC, PAM, drogas)")
        neuro = st.text_input("Neurol√≥gico (Glasgow, seda√ß√£o, pupilas)")
        renal = st.text_input("Renal (diurese, d√©bito, SVD, di√°lise)")
        gastro = st.text_input("GI / Nutri√ß√£o (SNE, dieta, evacua√ß√£o)")
        infecto = st.text_input("Infectologia (febre, antibi√≥ticos, cultura)")
        pele = st.text_input("Pele / Dispositivos (√∫lceras, pun√ß√µes)")
        lab = st.text_area("Laborat√≥rio / Imagem")
        conduta = st.text_area("Conduta e plano")

        usar_ia = st.checkbox("Interpretar com IA (sugest√µes e conduta)", value=True)

        submit = st.form_submit_button("Gerar Evolu√ß√£o")

        if submit:
            st.subheader("Texto gerado:")
            st.markdown(f"""
**Evolu√ß√£o de paciente cr√≠tico - UTI**

Paciente {nome}, {idade} anos, sexo {sexo.lower()}, internado no leito {leito} com diagn√≥stico principal de {diag}. Internado desde {data.strftime('%d/%m/%Y')}.

- **Via a√©rea**: {via_aerea}
- **Oxigena√ß√£o**: {oxigenacao}
- **Hemodin√¢mica**: {hemo}
- **Neurol√≥gico**: {neuro}
- **Renal**: {renal}
- **GI / Nutri√ß√£o**: {gastro}
- **Infectologia**: {infecto}
- **Pele / Dispositivos**: {pele}
- **Exames**: {lab}
- **Conduta**: {conduta}

{"# Interpreta√ß√£o com IA:\n*A interpreta√ß√£o com IA nesse caso n√£o est√° correlacionada √† cl√≠nica do paciente e deve ser analisada com aten√ß√£o.*" if usar_ia else ""}
            
*By Sebasti√£o Almeida*
""")
